<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />
    <!-- For Chrome, Edge, and other browsers -->
    <meta name="theme-color" content="#ffffff" />

    <!-- For Firefox -->
    <meta name="theme-color" content="#ffffff" />
    <meta name="color:toolbar" content="#ffffff" />
    <title>Coral Musical</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://unpkg.com/howler@2.2.4/dist/howler.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="./js/tap-to-teleport.js" type="text/javascript"></script>
    <script src="./js/interaction.js" type="text/javascript"></script>
  </head>
  <body>
    <a-scene cursor="rayOrigin: mouse">
      <a-assets>
        <img src="./assets/textures/discotecacoral.jpg" id="skybox" alt="Fondo de arena" />
        <img src="./assets/textures/LogoCoralMusical.png" id="logo" alt="Logo Coral Musical" />
      </a-assets>

      <!-- Skybox -->
      <a-sky src="#skybox" rotation="0 270 0"></a-sky>

      <!-- relleno -->
      <!-- algas -->
      <a-entity
        id="algaprincipal02"
        scale="4 4 4"
        position="7 2 -15"
        class="algas"
        gltf-model="https://cdn.glitch.global/8f7284bb-9412-41f0-9d25-acd4c21d36b9/algaprincipal02.glb?v=1705931872333"
      ></a-entity>

      <a-entity
        id="algasrelleno"
        scale="6 6 6"
        position="-10 2.4 -15"
        class="algas"
        gltf-model="https://cdn.glitch.global/8f7284bb-9412-41f0-9d25-acd4c21d36b9/algasrelleno.glb?v=1705931873644"
      ></a-entity>

      <!-- base roca y corales -->
      <a-entity
        scale="0.1 0.1 0.1"
        position="0 0 -15"
        class="algas"
        gltf-model="https://cdn.glitch.global/8f7284bb-9412-41f0-9d25-acd4c21d36b9/coralbase.glb?v=1705931876384"
      ></a-entity>

      <!-- percusiones -->
      <!-- anemona campanas tubulares -->
      <a-entity
        id="campanastubulares"
        scale=".5 .5 .5"
        position="-5 0 -10"
        class="percusion"
        gltf-model="https://cdn.glitch.global/8f7284bb-9412-41f0-9d25-acd4c21d36b9/anemonacampanastubulares.glb?v=1705931874189"
      ></a-entity>

      <a-entity
        id="marimba"
        scale="1 1 1"
        position="-9 -32 -10"
        class="percusion"
        gltf-model="https://cdn.glitch.global/8f7284bb-9412-41f0-9d25-acd4c21d36b9/coralmoradomarimba.glb?v=1705931877526"
        sound="src: #cajaRitmo; on: click"
        color-interaction
        data-hover-color="red"
      ></a-entity>

      <!-- vientos -->
      <a-entity
        id="tuba"
        scale="8 8 8"
        position="4 2.2 -5"
        class="vientos"
        gltf-model="https://cdn.glitch.global/8f7284bb-9412-41f0-9d25-acd4c21d36b9/coralamarillotuba.glb?v=1705931875983"
      ></a-entity>

      <a-entity
        id="clarinete"
        scale="2 2 2"
        position="0 2 -2.5"
        class="vientos"
        gltf-model="https://cdn.glitch.global/8f7284bb-9412-41f0-9d25-acd4c21d36b9/algaprincipalflauta.glb?v=1705931872742"
      ></a-entity>

      <a-entity
        id="flauta"
        scale=".5 .5 .5"
        position="-1.5 -1.5 0"
        rotation="0 0 0"
        class="cuerdas"
        gltf-model="https://cdn.glitch.global/8f7284bb-9412-41f0-9d25-acd4c21d36b9/seahorsedirector.glb?v=1705931878932"
      ></a-entity>

      <!-- cuerdas -->
      <a-entity
        id="arpa"
        scale="30 40 10"
        position="15 5 0"
        class="cuerdas"
        gltf-model="https://cdn.glitch.global/8f1284bb-9412-41f0-9d25-acd4c21d36b9/coralrosaarpa.glb?v=1705931878331"
      ></a-entity>

      <a-entity
        id="contrabajo"
        scale="0.1 0.1 0.1"
        position="7 0 -1"
        class="cuerdas"
        gltf-model="https://cdn.glitch.global/8f7284bb-9412-41f0-9d25-acd4c21d36b9/anemonacontrabajo.glb?v=1705931874694"
      ></a-entity>

      <a-entity
        id="violoncello"
        scale="0.03 0.03 0.03"
        position="2.5 0 4"
        class="cuerdas"
        gltf-model="https://cdn.glitch.global/8f7284bb-9412-41f0-9d25-acd4c21d36b9/anemonalilavioloncello.glb?v=1705931875034"
      ></a-entity>

      <a-entity
        id="violin"
        scale="3 3 3"
        position="-2.5 1.5 3"
        class="cuerdas"
        gltf-model="https://cdn.glitch.global/8f7284bb-9412-41f0-9d25-acd4c21d36b9/coralrojoviolin.glb?v=1705931877928"
        sound="src: #secuenciador; on: click"
        color-interaction
        data-hover-color="yellow"
      ></a-entity>

      <!-- Arrecife de coral para la caja de ritmo -->
      <a-box
        position="-3 0 -4"
        color="blue"
        scale="1 2 1"
        sound="src: #cajaRitmo; on: click"
        color-interaction
        data-hover-color="red"
      ></a-box>

      <!-- Arrecife de coral para el secuenciador -->
      <a-cylinder
        position="0 0 -8"
        color="green"
        radius="1"
        height="2"
        sound="src: #secuenciador; on: click"
        color-interaction
        data-hover-color="yellow"
      ></a-cylinder>

      <!-- Arrecife de coral para las melodías -->
      <a-sphere position="3 0 -4" color="red" radius="1"></a-sphere>

      <!-- Fondo oceánico -->
      <a-plane
        position="0 -35 0"
        rotation="-90 0 0"
        width="20"
        height="20"
        color="#DEE1D4"
      ></a-plane>

      <!-- Recursos de sonido -->
      <audio id="cajaRitmo" src="./assets/audio/percusiones.mp3"></audio>
      <audio id="secuenciador" src="./assets/audio/rattle-bass.mp3"></audio>
      <audio id="melodias" src="./assets/audio/oboe-staccato.mp3"></audio>

      <!-- Componentes para interactividad -->
      <!-- Cámara con controles de mirada y teclado-->
      <!-- Camera User View 2 Height -->
      <a-entity id="cameraRig" position="0 6 7">
        <a-entity
          id="head"
          position="0 0 0"
          camera="userHeight:2"
          rotation="0 0 0"
          data-aframe-inspector-original-camera
          look-controls="pointerLockEnabled:true"
        >
          <!-- Cursor con mirilla (anillo) -->
          <a-entity cursor="rayOrigin: mouse">
            <a-ring
              position="0 0 -1"
              scale="0.02 0.02 0.02"
              color="yellow"
              id="cursorRing"
              animation="property: scale; to: 0.04 0.04 0.04; loop: true; dur: 1000"
            ></a-ring>
          </a-entity>

          <a-entity
            position="0.1 -0.1 0"
            touch-listener
            teleport-controls="cameraRig: #cameraRig;
         teleportOrigin: #head;
         startEvents:starttouch;
         endEvents:endtouch;
         curveShootingSpeed:15;
         hitCylinderRadius:1;
         collisionEntities: [ground]"
          ></a-entity>
        </a-entity>
      </a-entity>
    </a-scene>
  </body>
</html>
